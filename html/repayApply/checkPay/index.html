<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../../../css/iuapmobile.um.css">
	<link rel="stylesheet" href="../../../css/fonts/iconfont.css">
	<link rel="stylesheet" href="index.css">
	<script src="../../../js/summer.js"></script>
	<script src="../../../js/jquery.min.js"></script>
	<script src="../../../js/Frameworks/iuapmobile.frameworks.ui.js"></script>
	<script src="../../../js/font.js"></script>
	<script src="../../../js/vue.js"></script>
	<script src="../../../js/common.js"></script>
</head>

<body>
	<div class="um-win" id="index">
		<div class="um-content" v-cloak>
			<ul class="infoList">
				<li class="first">
					<strong></strong>
					<i>基本信息</i>
				</li>
				<li>
					<span>客户信息</span>
					<span>
						<div>
							{{datas.capPayList.length ? datas.capPayList[0].payId.cstNm : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>合同号</span>
					<span>
						<div>
							{{datas.capPayList.length ? datas.capPayList[0].payId.contNo : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>支付表号</span>
					<span>
						<div>
							{{datas.capPayList.length ? datas.capPayList[0].payId.paySchNo : ""}}
						</div>
					</span>
				</li>
				<!-- <li>
					<span>首付款代收</span>
					<span>
						<div>
							{{datas ? datas.paymentMap.ISDEKOU : ""}}
						</div>
					</span>
				</li> -->
				<li>
					<span>首付款金额</span>
					<span>
						<div>
							￥
							<b>{{datas.capPayList.length ? datas.capPayList[0].payId.initPayAmt : ""}}</b>
						</div>
					</span>
				</li>
				<!-- <li>
					<span>设备款</span>
					<span>
						<div>
							￥
							<b>{{datas ? datas.paymentMap.LEASE_TOPRIC : ""}}</b>
						</div>
					</span>
				</li> -->
				<!-- <li>
					<span>品牌</span>
					<span>
						<div>
							{{datas ? datas.paymentMap.PRODUCT_NAME : ""}}
						</div>
					</span>
				</li> -->
			</ul>
			<ul class="infoList">
				<li class="first">
					<strong></strong>
					<i>付款通知（收款方）</i>
				</li>
				<li>
					<span>收款单位</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.rcptUnt : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>账户类型</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.bkAccTypCd : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>开户行</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.payeeBkNm : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>开户行行号</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.payeeBkNo : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>收款账号</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.accNo : ""}}
						</div>
					</span>
				</li>
			</ul>
			<ul class="infoList">
				<li class="first">
					<strong></strong>
					<i>付款通知（付款信息）</i>
				</li>
				<li>
					<span>应付金额</span>
					<span>
						<div>
							￥
							<b>{{datas.capPayList.length ? datas.capPayList[0].payId.prdAmt : ""}}</b>
						</div>
					</span>
				</li>
				<li>
					<span>实付金额</span>
					<span>
						<div>
							￥
							<b>{{datas.capPayList.length ? datas.capPayList[0].payId.payAmt : ""}}</b>
						</div>
					</span>
				</li>
				<li>
					<span>付款方式</span>
					<span>
						<div>
							{{datas.capPayeeInfo ? datas.capPayeeInfo.payWayCd : ""}}
						</div>
					</span>
				</li>
				<li>
					<span>实付时间</span>
					<span>
						<div>
							{{datas.capPayList.length ? datas.capPayList[0].payId.prdPaySchId.lsDt : ""}}
						</div>
					</span>
				</li>
			</ul>
		</div>
	</div>
	<script type="text/javascript">
		var payInfo = new Vue({
			el: '#index',
			data: {
				datas: {
					capPayList:[],
					capPayeeInfo:{},
					fileList:[]
				}
			}
		});
		summerready = function() {
			var info = summer.pageParam.info;
			summer.showProgress();
			ajaxRequest({
				type: 'get',
				url: 'appservice/cap/cappayinfo/capPayView',
				param: {
					"payId.id": info.userId,
					"flag": "2"
				}
			}, function(res) {
				summer.hideProgress();
				var Data;
				if (Object.prototype.toString.call(res.data) === '[object String]') {
					Data = JSON.parse(res.data);
				} else {
					Data = res.data;
				}
				if (Data.flag == 1) {
					if (Data.datas.capPayeeInfo) {
						if (Data.datas.capPayeeInfo.bkAccTypCd == "0") {
							Data.datas.capPayeeInfo.bkAccTypCd = "对公";
						} else {
							Data.datas.capPayeeInfo.bkAccTypCd = "对私";
						};
						if (Data.datas.capPayeeInfo.payWayCd == "1") {
							Data.datas.capPayeeInfo.payWayCd = "支票";
						} else if (Data.datas.capPayeeInfo.payWayCd == "2") {
							Data.datas.capPayeeInfo.payWayCd = "现金";
						} else if (Data.datas.capPayeeInfo.payWayCd == "3") {
							Data.datas.capPayeeInfo.payWayCd = "外付网银";
						} else if (Data.datas.capPayeeInfo.payWayCd == "4") {
							Data.datas.capPayeeInfo.payWayCd = "商业汇票";
						} else if (Data.datas.capPayeeInfo.payWayCd == "5") {
							Data.datas.capPayeeInfo.payWayCd = "银行汇票";
						} else if (Data.datas.capPayeeInfo.payWayCd == "6") {
							Data.datas.capPayeeInfo.payWayCd = "坐扣";
						} else if (Data.datas.capPayeeInfo.payWayCd == "7") {
							Data.datas.capPayeeInfo.payWayCd = "其他";
						} else if (Data.datas.capPayeeInfo.payWayCd == "8") {
							Data.datas.capPayeeInfo.payWayCd = "银行转账";
						}
					}
					payInfo.datas = Data.datas;
				} else {
					summer.toast({
						msg: "暂无数据"
					});
				}
			}, function(err) {
				summer.hideProgress();
				summer.toast({
					msg: "暂无数据"
				});
				console.log(err);
			});
		};
	</script>
</body>

</html>